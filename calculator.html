<!DOCTYPE html>
<html lang="en"> 
  <head>
    <title>Pontzer Lab BMR Calculator</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


  <script language="JavaScript"> 
    function fancyFunction()
    {   
      //Entered Values
      let enteredWeight = document.getElementById("weight").value;
      let enteredUnits = document.getElementById("units").value;
      let enteredAge = document.getElementById("age").value;
      let enteredSex = document.getElementById("sex").value;

      //Conversion
      if (enteredUnits == "kg"){
        var newWeight = enteredWeight * 2.2046226218;
      } else {
        var newWeight = enteredWeight;
      }


      //Print Results Completed
      //document.getElementById("result").innerHTML = "Results Computed";
      
      //document.getElementById("result2").innerHTML = "weight entered: " + enteredWeight + " pounds";
      
      //document.getElementById("result3").innerHTML = "age entered: " + enteredAge + " years";

      //document.getElementById("result3.5").innerHTML = "sex entered: " + enteredSex;


      //Parse by age
      if(enteredAge <= 3 && enteredAge >=0){
        var z = parseInt(27 * parseFloat(newWeight) - 30);
      }else if(enteredAge < 14 && enteredAge >3){
         var z = parseInt(10 * parseFloat(newWeight) + 511);
      } else if(enteredAge >= 14 && enteredSex == "male"){
         var z = parseInt(7 * parseFloat(newWeight) + 551);
      } else if(enteredAge >= 14 && enteredSex == "female"){
         var z = parseInt(5 * parseFloat(newWeight) + 607);
      }else{
        var z = 0;
      }

      if(enteredSex == "male"){
        var dailyEnergyExp = parseInt(1105 * Math.log(newWeight) - 261);
      } else {
        var dailyEnergyExp = parseInt(786 * Math.log(newWeight) - 1582);
      };

      
      document.getElementById("result4").innerHTML = "Basal Metabolic Rate (KCal/Day) : " + z;
      //var d = parseFloat(enteredWeight) + parseFloat(enteredAge);
      document.getElementById("result5").innerHTML = "Daily Energy Expenditure (KCal/Day) : " + dailyEnergyExp;
      /*
      <p id="BMR">BMR: </p>
  <p id="result"></p>
  <p id="result2"></p>
  <p id="result3"></p>
  <p id="result3.5"></p>
      */
    }
  </script>
  
    
  </head>

  <body>

    <div class="container" >
    <h1>Calculate BMR and Daily Energy Expenditure</h1>

   <form action="#" onsubmit="fancyFunction();return false">
    
    
   <label for="weight">Weight: </label>
    <input type="number" id="weight" name="weight" required min=".1" step=".1"> <br>
    <label for="units">Unit:</label>
  <select id="units" name="units" required>
    <option value="lb">lb</option>
    <option value="kg">kg</option>
  </select><br><br>
    <label for="age">Age (years):</label><br>
    <input type="number" id="age" name="age" required step=".1" min=".1"> <br><br>
    <label for="sex">Biological Sex:</label><br>
    <select id="sex" name="sex" required>
    <option value="male">male</option>
    <option value="female">female</option>
    </select><br><br>
    <input type="submit" value="Submit">
  </form> 
  <br>
  <label id="result4">Basal Metabolic Rate (KCal/Day) : </label> 

  <br>

  <label id="result5">Daily Energy Expenditure (KCal/Day) : </label>
  

</div>
  </body>
</html>
